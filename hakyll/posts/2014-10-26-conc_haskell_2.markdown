---
title: 今日は「第2回 「Haskellによる並列・並行プログラミング」読書会」の日です
---

[第2回 「Haskellによる並列・並行プログラミング」読書会](http://partake.in/events/8cb2c3a9-777d-450a-8e1c-350bbb1eb324)へ来ている。基本的に朗読形式なので、議論を中心にメモしておく。

* 4章 データフロー並列:Parモナド
    * p.59 `IVar i` より 「`IVar` の `i`」と書くべきではないか
    * p.61 `put_` で速度が向上するのはなぜか → 評価済かどうか、データ構造を末端までなめなくていいため
    * `IVar` はなぜ `Eq` なの？
    * 実装を見ると `IORef` で実装されてる (via: http://hackage.haskell.org/package/monad-par-0.3.4.6/docs/src/Control-Monad-Par-Scheds-Direct.html#IVar )
* 4.1 例:グラフの最短経路
    * グラフの番号は飛び飛びでもいいの？ → 多分連続してい
    * ノードが連結してないとまずいのでは？ → 大きいウェイトで表せばいいでしょう
    * `k=0`のとき直接のノードのみになるとは？ → 経由がないので
    * 脱線: `Nothing` と `Just` に順序ついてるけど、逆にしたいとこもあるのでは？ → そういう `Down` 型がある
    * `Maybe` を使ってるけど、 `Maybe` と同じ性質を持ってるわけではないよね。ので `newtype` すべき
    * Generalized newtype deriving拡張ってのがあるので、それで楽できる
    * 長さとは重みの合計？ → はい。微妙かも
    * `Data.IntMap.Strict` が新しいバージョンにはある
    * 畳み込みは結合的だと並列化できる？ → 結合則があればどこからでも
    * なんで3.02倍？→4.17/1.38